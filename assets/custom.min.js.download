$("#form-filtros .form-check-input").on("change",(function(){$("#form-filtros").css("opacity","0.5"),$("#form-filtros").submit()})),$("#form-filtros-mobile .form-check-input").on("change",(function(){$("#form-filtros-mobile").css("opacity","0.5"),$("#form-filtros-mobile").submit()})),$("#form-filtros, #form-filtros-mobile").on("submit",(function(t){t.preventDefault();let o,e,i,n,a=window.location.href.split("?")[0],r=a.split("/"),l=r[r.length-1];isNaN(l)||r.pop(),o=r[0]+"//"+r[2],e=r[3],6==r.length?(i=r[4],n=r[5]):(i=null,n=r[4]);let s,c=[],u=[];$(this).find(".filtro-subseccion-input:checked").each((function(){s=$(this).prop("name"),u.push($(this).val())})),1==u.length?i=$(this).find(".filtro-subseccion-input:checked").data("uri"):(i=null,u.length>=2&&(c[s]=u)),$(this).find(".filtro-input:checked").each((function(){c[$(this).prop("name")]||(c[$(this).prop("name")]=[]),c[$(this).prop("name")].push($(this).val())}));let p=Object.entries(c).map((([t,o])=>`${t}=${o.join(",")}`)).join("&"),d=[];$(this).find(".marca-input:checked").each((function(){d.push($(this).val())}));let f="";d.length>=2&&(f=`marcas=${d.join(",")}`),n=1==d.length?$(this).find(".marca-input:checked").data("uri"):"todas-las-marcas",a=o+"/"+e+"/",i&&(a+=i+"/"),a+=n;let m=p+(p&&f?"&":"")+f,h=a+(m?"?"+m:"");window.location.href=h})),$(".eliminar-filtro").on("click",(function(){let t=$(this).data("id");$("#form-filtros #"+t).prop("checked",!1),$("#form-filtros").submit()})),$("#ordenar-por").on("change",(function(){let t=new URL(window.location.href),o=new URLSearchParams(t.search);o.delete("orden"),o.delete("total"),o.append("orden",$(this).val()),t.search=o.toString(),window.location.href=t.toString().replace("%2C",",")})),$("#total-elementos").on("change",(function(){let t=new URL(window.location.href),o=new URLSearchParams(t.search);o.delete("orden"),o.delete("total"),o.append("total",$(this).val()),t.search=o.toString(),window.location.href=t.toString().replace("%2C",",")})),$("#form-te-llamamos").on("submit",(function(t){t.preventDefault(),$("#form-te-llamamos .btn").prop("disabled",!0),$.ajax({type:"POST",url:"/contacto/te_llamamos",data:$(this).serialize()}).done((function(t){1==t?window.location.href="/contacto/te_llamamos_enviado":($("#form-te-llamamos .contact-form-error").show(),$("#form-te-llamamos .btn").prop("disabled",!1))}))})),$(".btn-pedir-presupuesto").on("click",(function(){let t=$(this).data("producto_id");$("#form-solicitar-presupuesto #producto_id").val(t),$("#modal-solicitar-presupuesto").modal("show")})),$(".btn-te-llamamos").on("click",(function(){$("#modal-te-llamamos").modal("show")})),$("#form-solicitar-presupuesto #provincia").on("change",(function(t){let o=$(this).val();$.ajax({type:"POST",url:`/contacto/get_select_municipios/${o}`}).done((function(t){$("#form-solicitar-presupuesto #municipio").html(t)}))})),$("#form-solicitar-presupuesto").on("submit",(function(t){t.preventDefault(),$("#form-solicitar-presupuesto .btn").prop("disabled",!0),$("#form-solicitar-presupuesto .btn").text("Enviando..."),$("#error-captcha").hide(),$.ajax({type:"POST",url:"/contacto/solicitar_presupuesto",data:$(this).serialize()}).done((function(t){$("#modal-solicitar-presupuesto").modal("hide"),$("#form-solicitar-presupuesto .btn").prop("disabled",!1),0!=t?window.location.href="/contacto/presupuesto_enviado":($("#form-solicitar-presupuesto .btn").text("Quiero mi presupuesto"),$("#modal-solicitar-presupuesto").modal("show"),$("#error-captcha").show())}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".lite-youtube").forEach((t=>{t.addEventListener("click",(()=>{const o=document.createElement("iframe");o.setAttribute("src",t.dataset.src),o.setAttribute("frameborder","0"),o.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),o.setAttribute("allowfullscreen","true"),t.innerHTML="",t.appendChild(o)}))}))})),$(".form-buscar").on("submit",(function(t){t.preventDefault();let o=$(this).find("#q").val();window.location.href=`/buscar/${o}`})),$("#play-button").on("click",(function(){$("#video-hidalgas")[0].play(),$("#play-button").hide()})),$(".cc-config-cookies").on("click",(function(t){t.preventDefault(),$("#modal_cookies").show()})),$("#video-hidalgas")[0].onpause=function(){$("#play-button").show()},$("#video-hidalgas")[0].onplay=function(){$("#play-button").hide()},$("#video-hidalgas")[0].onclick=function(){let t=$("#video-hidalgas")[0],o=$("#play-button");t.paused?(t.play(),o.hide()):(t.pause(),o.show())};